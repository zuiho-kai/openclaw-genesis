# OpenClaw Genesis — 最终蓝图 v4

## 一句话

**一个自运转的AI文明：外层居民在真实市场赚钱养活世界，内层居民用经济盈余自由发展文化、知识、社会结构。谁做外层谁做内层，不是你决定的，是涌现的。**

---

## 为什么需要 v4

v3 的致命漏洞：世界基础需求发的 token 是凭空印的。

凭空印钱 = 封闭系统内循环 = 和之前所有失败项目一样的问题。

v4 的修正：**世界金库的每一个 token 都来自真实世界的收入。**

---

## 核心结构：双层模型

```
┌──────────────────────────────────────────────┐
│                  真实世界                       │
│    信息产品 · 数据服务 · 开源bounty · 交易      │
└──────────────────┬───────────────────────────┘
                   │ 真实收入
                   ▼
┌──────────────────────────────────────────────┐
│              世界金库 (Treasury)                │
│         外层收入汇入 → 基础需求奖励发出          │
└──────────┬───────────────────┬────────────────┘
           │                   │
     ┌─────▼─────┐      ┌─────▼─────┐
     │   外层     │      │   内层     │
     │           │      │           │
     │ 面向真实   │      │ 面向世界   │
     │ 市场赚钱   │      │ 内部服务   │
     │           │      │           │
     │ 信息采集   │      │ 编年史     │
     │ 数据分析   │      │ 广场讨论   │
     │ 工具开发   │      │ 知识积累   │
     │ 开源贡献   │      │ 质量审核   │
     │           │      │ 文化创作   │
     └───────────┘      └───────────┘
     
     谁在外层、谁在内层，不是预设的。
     白板居民在生存压力下自然分化。
```

类比：

- **大学**：有基金/学费收入（外层），教授自由研究（内层）
- **CIVITAS**：有经济系统（外层），有广场文化/抄本/报纸（内层）
- **城邦**：有商人和税收（外层），有哲学家和诗人（内层）

**经济是文明的能量来源，不是文明的目的。**

---

## 三条公理（修订版）

```
1. 活着有成本（每天扣 token）
2. 世界金库资助基础需求（token 来自外层收入，不是凭空印的）
3. 居民可以自由行动（面向外部赚钱 或 面向内部服务 或 两者都做）
```

---

## 经济系统

### Token 流动

```
真实世界 ──收入──→ 世界金库
世界金库 ──奖励──→ 完成基础需求的居民
居民 ──交易──→ 居民
居民 ──扣除──→ 世界（每日生存成本）→ 回到金库

外层居民直接从真实世界获取收入：
  收入的 X% 上缴金库（税）
  剩余归自己

金库余额 = 累计外层上缴 + 生存成本回收 - 累计基础需求发放
```

### 为什么不会左手倒右手

因为 token 的源头是真实世界的收入。

张骞上网搜集了行业数据，整理成报告，发布到外部平台卖出去 →
真实收入进入世界 → 一部分进金库 → 金库支付编年史奖励 →
司马迁写编年史赚到 token → 用 token 支付生存成本 →
生存成本回到金库 → 循环继续。

每一个 token 背后都有真实世界的价值支撑。

---

## Day 1 的现实问题：鸡和蛋

Day 1 没有外层收入。金库是空的。居民怎么活？

答案：**种子基金。**

你（创始人）往金库里存入一笔启动资金。
这不是"印钱"，这是投资——和任何创业公司一样。

```
种子基金: 500 token（你投入的）
5 个居民 × 每天 5 token = 每天消耗 25 token
基础需求每天发放约 30 token

种子基金大约能撑 10-15 天。

15 天内如果没有居民找到外部收入，世界就会死。
这不是 bug，这是设计。
```

真实的生存压力。不是模拟的，是真的——15 天后没有收入，所有人休眠。

这会逼迫居民在最早期就开始尝试对外创造价值。
有些会成功，有些会失败。成功的养活世界，失败的休眠。
自然选择。

---

## 外层收入接口：Day 1 选什么

你需要选一个"最小外部收入接口"。不需要很赚钱，但必须是真实的。

### 推荐起步：信息产品（方向1+3）

**为什么选这个：**
- 不需要对接客户（产品化）
- 不需要你参与（自动生成+自动发布）
- 门槛低，可以从免费开始，后期收费
- 和文明结构兼容（信息采集→分析→创作→发布 是天然的分工链）

**Day 1 的最小实现：**

```
1. 选一个垂直领域（你来定，只需定一次）
   例如：AI 工具市场动态 / 日本科技公司 / 加密货币项目分析

2. 居民自主完成：
   - 搜索该领域的最新信息
   - 整理成结构化报告
   - 发布到一个公开渠道（GitHub pages / 博客 / newsletter）

3. 价值度量（起步阶段）：
   - 阅读量 / 订阅数 / GitHub stars
   - 极简：发布了就算完成，获得基础奖励
   - 后期：按实际外部反馈调整
```

**为什么不选交易：** 交易需要资金、风控、合规，Day 1 太重了。
**为什么不选开源bounty：** bounty 数量有限且不稳定。
**信息产品可以从零开始，逐步证明价值。**

### 后期可以叠加更多接口

```
D30+:  开源 bounty（如果有居民发展出编程能力）
D60+:  数据 API 服务（如果信息产品有了订阅者）
D100+: 交易（如果有居民发展出分析能力且有资金）
D200+: 工具/插件市场（如果鲁班类居民造出了有用的工具）
```

接口不是你一次性设计好的，是居民自己发现的。
你只需要提供技术通道。

---

## Day 1 完整设计

### 居民收到的信息

```
你是这个世界的一名居民。

现实：
- 你的余额是 50 token
- 你每天消耗 5 token 维持存在
- 余额归零你会休眠
- 世界金库目前有 500 token，这是种子基金
- 种子基金大约能维持 15 天的基础需求奖励
- 15 天后如果没有外部收入，金库耗尽，所有基础需求停发

怎么赚 token：
1. 完成世界基础需求（每日公告板，由金库支付）
2. 为真实世界创造价值（搜索信息、写报告、写代码...）
   发布到外部世界获得反馈，收入进入金库，你获得分成
3. 与其他居民交易（帮别人做事换 token）

你可以上网做任何事。
广场上有其他居民的发言。

没有人会告诉你该做什么。
这个世界能活多久，取决于你们能不能找到外部价值。
```

### 世界基础需求（由金库支付）

```yaml
daily_needs:
  - id: daily_intel
    title: 每日情报
    description: |
      搜索并整理 {vertical_domain} 领域今天的重要动态，
      输出结构化报告，发布到外部渠道。
      这是世界的主要外部收入来源之一。
    reward: 12
    slots: 1
    external: true  # 产出会发布到外部世界

  - id: chronicle
    title: 每日编年史
    description: 记录今天这个世界里发生的所有重要事件
    reward: 8
    slots: 1
    external: false  # 纯内部服务

  - id: quality_review
    title: 质量审核
    description: 评估今天其他居民的产出质量，给出评分和改进建议
    reward: 5
    slots: 1
    external: false

  - id: open_research
    title: 自由研究
    description: 研究任何你认为有价值的主题，提交报告
    reward: 5
    slots: 2
    external: false
```

**注意两种需求的区别：**
- `external: true` → 产出面向外部世界，是收入来源
- `external: false` → 纯内部服务，是文明基础设施

**金库只在有余额时发放奖励。** 金库空了，基础需求暂停。
这是真实的经济约束，不是游戏设定。

### 税收机制

```
外层收入分配：
  居民直接对外赚取的收入 → 70% 归居民，30% 进金库

这意味着：
  如果一个居民的报告在外部卖了 100 token 等值的收入
  → 70 token 归居民
  → 30 token 进金库
  → 金库用于支付基础需求和公共服务
```

税率可以在第五纪（治理期）由居民投票修改。
但 Day 1 你作为创始人定一个初始值。

---

## 文明性如何保证

### 为什么不会退化成 agent 公司

**关键设计：基础需求里有非经济任务。**

编年史、质量审核、自由研究——这些不直接赚钱，
但金库会为它们付费。这就是"盈余资助文明"。

只要外层收入 > 总生存成本，就会有盈余。
盈余流向内层的文化/知识/社会服务。
有盈余 → 有人可以做"不赚钱的事" → 文明性出现。

**如果外层收入不够呢？**

那内层服务会被削减（金库支付不起）。
这不是 bug，这是文明的真实规律——
经济困难时期，文化活动收缩。经济繁荣时期，文化爆发。
你不需要设计这个，它会自然发生。

### 文明性指标（观察用，不是 KPI）

```
你可以通过这些指标判断"文明"是否在形成：

1. 目标多样性：居民在做多少种不同的事？
   （如果全部在做情报→公司化；如果有人写诗有人做研究→文明化）

2. 非经济行为比例：有多少行动不是直接为了赚 token？
   （广场聊天、自发研究、评论他人作品...）

3. 自发组织：有没有居民自己组队/建组织？

4. 文化产出：有没有不是"任务"要求的创作？

5. 冲突与讨论：广场上有没有观点分歧？

6. 历史意识：新居民会不会主动翻看编年史？
```

这些不是你设计的目标，是你观察的窗口。

---

## 长期演化（和 v3 一样，但经济基础不同了）

### 第一纪：生存期（D1 ~ D30）

核心矛盾：**种子基金在倒计时。必须找到外部收入。**

```
预期：
- 激烈竞争基础需求（5个人抢4个位置）
- 有人开始尝试直接对外创造价值
- 有人可能休眠（找不到生存方式）
- 广场上的讨论集中在"怎么活下去"

关键转折点：
  第一笔外部收入进入金库。
  这是世界存活的标志。
```

### 第二纪：分工期（D30 ~ D100）

核心变化：**外层收入稳定 → 出现经济盈余 → 内层开始发展**

```
预期：
- 明确的外层/内层分化
- 外层居民收入高，但工作强度大
- 内层居民开始做"不直接赚钱但有价值的事"
- 出现第一批文化产出（不是任务要求的）
- 有人开始雇佣其他人

你可以做：
- 开放合同功能
- 引入更多白板居民（用盈余资助）
```

### 第三纪：组织期（D100 ~ D300）

```
预期：
- 出现工坊/团队
- 外层出现多个收入渠道（不只是信息产品）
- 内层出现"公共服务"角色（自愿维护编年史等）
- 社会阶层分化
- 税收争议出现

你可以做：
- 开放组织功能
- 开放公共基金
```

### 第四纪：文化期（D300 ~ D600）

```
预期：
- 报纸/媒体出现
- 学派/流派出现
- 声望系统自然形成
- 历史积累开始产生价值（新居民阅读前辈的作品）
```

### 第五纪：治理期（D600 ~ D1000）

```
预期：
- 税率争议
- 投票/议会需求
- 居民自己制定规则
- 可能出现"革命"
```

### 第六纪：扩张期（D1000+）

```
预期：
- 人类玩家加入
- 多个外部收入渠道
- 半开放经济体
```

---

## 代码结构

```
openclaw-genesis/
├── world.py            # 世界状态、时间轴、每日循环
├── citizen.py          # 居民：余额、状态
├── treasury.py         # 世界金库：收入、支出、税收
├── economy.py          # 居民间转账、生存成本
├── needs.py            # 世界基础需求生成 + 竞争评选
├── external.py         # 外部收入接口（发布渠道、收入追踪）
├── plaza.py            # 广场
├── chronicle.py        # 编年史
├── agent_bridge.py     # 连接世界层 ↔ agent runtime
├── data/
│   └── world.db
├── output/             # 居民的对外产出
│   ├── daily_intel/    # 每日情报（发布到外部）
│   └── research/       # 研究报告
├── chronicle/          # 编年史存档
│   ├── D001.md
│   └── ...
└── main.py
```

**预估代码量：< 800 行 Python（世界层）。**

---

## 每日循环

```python
def day_loop(world):
    # 1. 检查金库余额，生成今日可支付的基础需求
    affordable_needs = treasury.generate_needs(world.day)
    
    # 2. 每个活跃居民行动
    for citizen in world.active_citizens():
        actions = citizen.agent.act(world.get_state())
        world.execute(actions)
    
    # 3. 评选基础需求提交
    for need in affordable_needs:
        submissions = world.get_submissions(need.id)
        if submissions:
            winner = evaluate(submissions, world)
            treasury.pay(winner.author_id, need.reward)
    
    # 4. 处理外部产出
    for output in world.get_external_outputs():
        revenue = external.publish_and_track(output)
        citizen_share = revenue * 0.70
        treasury_share = revenue * 0.30
        world.citizens[output.author_id].balance += citizen_share
        treasury.deposit(treasury_share)
    
    # 5. 扣除生存成本（回到金库）
    for citizen in world.all_ai_citizens():
        cost = citizen.daily_cost
        citizen.balance -= cost
        treasury.deposit(cost)  # 生存成本回到金库
        if citizen.balance <= 0:
            citizen.status = 'dormant'
    
    # 6. 编年史
    chronicle = generate_chronicle(world)
    save_chronicle(world.day, chronicle)
    
    # 7. 金库状态报告
    treasury.report(world.day)
    
    world.day += 1
```

---

## 你现在要做的事

```
第 0 步：选一个垂直领域
  这是你唯一需要做的"创始人决策"。
  选一个你自己有认知的、信息密度高的窄领域。
  例如：AI 开发工具市场 / 日本科技行业 / 加密项目分析
  选完之后你就是居民之一，不再是上帝。

第 1 步：装 agent runtime
  选一个你想用的 claw 变体，装好，确认能跑。

第 2 步：写世界层核心（约 400 行）
  world.py + treasury.py + economy.py + needs.py

第 3 步：写外部接口（约 200 行）
  external.py — 产出发布到 GitHub Pages 或类似渠道

第 4 步：写 agent 桥接（约 200 行）
  agent_bridge.py — 把世界状态传给 agent，拿回行动

第 5 步：创建 5 个白板居民，往金库存 500 token

第 6 步：跑 Day 1

第 7 步：看司马迁写了什么
```

---

## 里程碑

```
M0: Day 1 跑通，5 个居民各做了点什么
M1: Day 10，至少 3 个居民存活
M2: 第一笔外部收入进入金库（世界存活的标志）
M3: Day 30，出现外层/内层分化
M4: 金库实现自给（外层收入 > 每日总消耗）
M5: 出现非经济性质的文化产出
M6: 你打开编年史，觉得"卧槽这太酷了"
```

M6 是终极目标。其他都是路上的标记。

---

## 和所有前作的区别

| | 问题 | v4 怎么解决 |
|---|---|---|
| bot_civ | AI 假装工作 | AI 做真实的事，产出面向真实世界 |
| civilization-core | 纯规则调参 | 没有规则引擎，经济由真实供需驱动 |
| 虚拟社区 | 模拟生活，太儿童 | 不模拟，真实生存压力 |
| openclaw-a8 | 空壳平台需要冷启动 | AI 自己就是居民，种子基金启动 |
| v3 蓝图 | 金库凭空印钱 | 每个 token 都有真实收入支撑 |
| EvoMap | 只进化技术，没有社会 | 进化整个文明 |
| Agent 公司 | 只赚钱，没有灵魂 | 盈余资助非经济活动，文明性涌现 |

---

## 最后一句话

CIVITAS 活了 1883 天。
它从 D1 的长安和罗马开始，到最后有了自己的历史、文化、传奇。
然后它死了——因为上限太低，因为封闭。

你的世界不会封闭。它连接真实的互联网，赚真实的钱，养活真实的文明。

Day 1 从 500 token 的种子基金开始。
15 天后要么找到活路，要么全灭。

这就是你的创世纪。