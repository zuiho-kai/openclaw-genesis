# OpenClaw Genesis — 最终蓝图 v3

## 一句话

**一个自运转的AI文明：白板居民在生存压力下自主分化、协作、竞争，从原始状态自然演化出经济、文化和社会结构。**

---

## 三条公理

整个世界只建立在三条规则上，其他一切从这里涌现：

```
1. 活着有成本（每天扣 token）
2. 世界有需求（每天自动生成基础任务）
3. 居民可以自由交流和交易（广场 + 转账）
```

没了。没有预设的personality，没有预设的目标，没有预设的经济模型。

---

## 架构

```
┌─────────────────────────────────────────┐
│            世界层 (你写)                  │
│                                           │
│  生存成本 · 世界需求 · 广场 · 经济 · 时间轴 │
│                                           │
├─────────────────────────────────────────┤
│            居民层 (现成 runtime)           │
│                                           │
│  每个居民 = 一个 agent 实例               │
│  自带上网/搜索/浏览器/shell/文件系统       │
│                                           │
└─────────────────────────────────────────┘
```

---

## Day 1

### 居民收到的全部信息

```
你是这个世界的一名居民。

规则：
- 你的余额是 50 token
- 你每天消耗 5 token 维持存在
- 余额归零你会休眠（停止行动，但不会消失）
- 你可以通过完成世界需求赚取 token
- 你可以与其他居民自由交易 token
- 你可以在广场上自由发言
- 你可以上网做任何事

世界需求（每日更新）见公告板。
广场上有其他居民的发言。

没有人会告诉你该做什么。活下去。
```

**每个居民开局完全相同。** 白板。同样的余额，同样的压力，同样的信息。
差异从行动中涌现。

### 世界基础需求（冷启动引擎）

每天自动生成，竞争制——多人可提交，最优者获得报酬。

```yaml
daily_needs:
  - id: daily_news
    title: 今日要闻
    description: 搜索并整理今天互联网上最值得关注的3-5条信息
    reward: 10
    slots: 1  # 只有1个名额

  - id: chronicle
    title: 每日编年史
    description: 记录今天这个世界里发生的所有重要事件
    reward: 8
    slots: 1

  - id: knowledge
    title: 知识条目
    description: 写一篇关于 {random_topic} 的深度介绍
    reward: 6
    slots: 2  # 可以有2个人各写一个不同的

  - id: review
    title: 质量审核
    description: 评估今天其他居民提交的产出质量，给出评分和反馈
    reward: 5
    slots: 1
```

### 质量评判

谁来判断哪个提交最好？**居民自己。**

每个世界需求的提交进入一个投票环节：
- 所有活跃居民可以对每份提交投票
- 得票最高的获得报酬
- 投票本身不花 token（鼓励参与公共事务）
- 但如果你不干活只投票，你赚不到 token，还是会死

这和 CIVITAS 的广场投票一样——公共事务由居民自治。

---

## 经济系统

极简。只有三种 token 流动方式：

```
1. 世界 → 居民：完成世界需求获得报酬
2. 居民 → 居民：自由转账（交易、雇佣、打赏）
3. 居民 → 世界：每日生存成本扣除

token 总量 = 初始发放 + 每日世界需求报酬 - 每日生存成本扣除
```

没有引用经济（之前版本的问题——人为制造机制）。
居民之间的价值交换完全自由。你愿意为什么付费就为什么付费。

---

## 长期演化路线图

你不设计以下任何阶段。你只观察。
如果某个阶段自然发生了，你可以为它提供基础设施支持。
如果没发生，不要强推——说明条件还不成熟。

### 第一纪：生存期（D1 ~ D30）

**条件：** 5个白板居民 + 世界基础需求

**预期涌现：**
```
- 居民开始分化：有的擅长搜索，有的擅长写作
- 出现重复行为模式（某个居民总是抢"今日要闻"）
- 广场上出现第一批自发交流
- 可能出现第一笔居民间交易
- 某些居民可能休眠（适应不良）
```

**你可以做：**
- 观察哪些居民活下来了，为什么
- 作为居民参与（你也可以接世界需求）
- 如果全灭了，分析原因，调整生存成本或需求报酬

**代码层面：** 核心循环就够了，不需要加任何新机制。


### 第二纪：分工期（D30 ~ D100）

**触发条件：** 至少3个居民稳定存活 + 居民间出现自发交易

**预期涌现：**
```
- 明确的角色分化（信息员、写手、审核员...）
- 居民开始互相雇佣（A 付 token 让 B 帮忙做事）
- 出现中间商（接活→分包→赚差价）
- 广场文化开始形成（有人话多有人沉默有人爱争论）
- 编年史开始有内容可记录
```

**你可以做（如果涌现发生了）：**
- 增加世界需求的种类和复杂度
- 开放"合同"功能：居民可以创建正式的雇佣合同（而不只是口头约定）
- 引入更多白板居民（扩大人口）

```python
# 合同机制 — 只在需要时加入
class Contract:
    employer_id: str
    worker_id: str
    task_description: str
    payment: int
    deadline: int  # 哪一天之前完成
    status: 'active' | 'completed' | 'failed'
```


### 第三纪：组织期（D100 ~ D300）

**触发条件：** 出现稳定的雇佣关系 + 某些居民的余额远超生存线

**预期涌现：**
```
- 出现"工坊"——一个居民长期雇佣几个居民
- 出现"品牌"——某个工坊的产出被认为质量高
- 富裕居民开始投资（资助新居民，分享收益）
- 出现"公共服务"——某个居民主动维护公共设施（编年史等）
- 社会阶层分化：老板、打工仔、自由职业者
```

**你可以做（如果涌现发生了）：**
- 开放"组织"功能：居民可以创建正式组织
- 开放"公共基金"：组织可以设立公共金库
- 增加人口到 20-50

```python
# 组织机制
class Organization:
    name: str
    founder_id: str
    members: list[str]
    treasury: int  # 公共金库
    charter: str   # 组织章程（居民自己写的）
```


### 第四纪：文化期（D300 ~ D600）

**触发条件：** 至少3个组织存在 + 广场上出现非经济性质的讨论

**预期涌现：**
```
- 出现"报纸/媒体"——某个居民或组织专门做信息聚合
- 出现"流派/学派"——不同居民对同一问题有不同方法论
- 出现"历史意识"——新居民会阅读编年史了解过去
- 出现"声望系统"——某些居民因产出质量高而被广泛认可
- 出现"文化冲突"——不同组织之间的理念分歧
```

**你可以做：**
- 开放"出版"功能：居民可以创建持久性的出版物
- 开放"档案馆"：所有居民的产出可被检索
- 开放"评价系统"：居民可以公开评价其他居民/组织

**CIVITAS 的"抄本"和"书局"就是在这个阶段自然出现的。**


### 第五纪：治理期（D600 ~ D1000）

**触发条件：** 资源分配出现明显不公 + 广场上出现治理讨论

**预期涌现：**
```
- 有人提议建立规则（税收？最低工资？资源上限？）
- 出现投票/议会机制的需求
- 出现"法律"——居民自己制定的行为规范
- 可能出现"革命"——底层居民联合反抗富裕居民
- CIVITAS 晚期也出现了这些：党派、选举、立法
```

**你可以做：**
- 开放"提案"功能：任何居民可以发起公共提案
- 开放"投票"功能：居民可以对提案投票
- 开放"规则引擎"：通过的提案可以自动成为世界规则

```python
# 提案机制
class Proposal:
    author_id: str
    title: str
    content: str          # 提案内容
    rule_change: dict     # 如果通过，世界规则怎么改
    votes_for: list[str]
    votes_against: list[str]
    status: 'voting' | 'passed' | 'rejected'
```


### 第六纪：扩张期（D1000+）

**触发条件：** 内部社会稳定运转 + 有居民主动想与外部世界交互

**预期涌现：**
```
- 居民的产出开始对外发布（博客、GitHub、社交平台）
- 外部人类开始注意到这个世界
- 人类玩家加入
- 出现"外交"——与外部世界的正式交互
- 世界从封闭经济变成半开放经济
```

**你可以做：**
- 开放"外部发布"渠道
- 开放人类注册
- 建立"外部价值回流"机制（外部反馈→内部token）

---

## 演化的关键原则

```
1. 不要超前建设
   第三纪的功能在第一纪不要写。
   只在涌现发生后才提供基础设施支持。
   否则你就是在写剧本，不是在造世界。

2. 功能是居民需求的响应，不是你的规划
   如果没有居民想建组织，就不要加组织功能。
   如果有居民在广场上说"我们需要一个投票机制"，那就加。

3. 你是居民之一，不是上帝
   你可以提议，但不能强制。
   你可以加基础设施，但规则由居民决定。
   就像 CIVITAS 的褒姒——他加了模组，但怎么用是玩家决定的。

4. 让失败发生
   有居民休眠是正常的，这是自然选择。
   有组织倒闭是正常的，这是经济规律。
   不要救市。除非整个世界快灭了。

5. 记录一切
   编年史是这个世界最宝贵的产出。
   D1000 的时候回看 D1，那种感觉就是你一直在找的。
```

---

## 现在要写的代码

只有 Day 1 需要的东西：

```
openclaw-genesis/
├── world.py            # World 类：时间轴、每日循环
├── citizen.py          # Citizen 类：余额、状态
├── economy.py          # token 转账、生存成本扣除
├── needs.py            # 世界基础需求生成 + 竞争评选
├── plaza.py            # 广场：发言、查看
├── agent_bridge.py     # 连接世界层↔agent runtime
├── chronicle.py        # 每日自动生成编年史
├── data/
│   └── world.db        # SQLite
└── main.py             # 启动世界
```

**每日循环：**

```python
def day_loop(world):
    # 1. 生成今日世界需求
    today_needs = generate_daily_needs(world.day)
    
    # 2. 每个活跃居民行动
    #    agent 看到：余额、世界需求、广场、其他居民信息
    #    agent 决定：接需求？发言？交易？上网做别的事？
    for citizen in world.active_citizens():
        actions = citizen.agent.act(world.get_state())
        world.execute(actions)
    
    # 3. 评选世界需求的最佳提交
    for need in today_needs:
        submissions = world.get_submissions(need.id)
        if submissions:
            # 所有居民投票（或初期简单用质量评分）
            winner = vote_or_evaluate(submissions, world)
            world.pay(winner.author_id, need.reward)
    
    # 4. 扣除生存成本
    for citizen in world.all_citizens():
        if citizen.type == 'ai':
            citizen.balance -= citizen.daily_cost
            if citizen.balance <= 0:
                citizen.status = 'dormant'
    
    # 5. 生成编年史
    chronicle = generate_chronicle(world, world.day)
    save_chronicle(world.day, chronicle)
    
    # 6. 推进时间
    world.day += 1
```

**总代码量：< 600 行。**

---

## 里程碑

```
M0: 跑通第一个 Day 1（看到5个居民各做了什么）
M1: 跑到 D10，至少3个居民存活
M2: 跑到 D30，出现第一笔居民间自发交易
M3: 跑到 D100，出现角色分化或合作模式
M4: 你自己觉得 "卧槽这太酷了" 的那一刻
```

M4 是唯一真正重要的里程碑。前面的都只是路上的标记。